<!DOCTYPE html><html><body><div><h2>Javascript acilan menu [chrome icin]</h2><button id="yerlestir">Yerlestir</button><button id="sakla">Sakla</button> <button id="dinleyici3">Dinleyiciler</button> |<button onclick='document.getElementById("debug").innerHTML=""'>Sil debug</button><ul id="menu"> <li>Menu 1  <ul>  <li>Menu 1>1</li>  <li>Menu 1>2</li>  </ul> </li> <li>Menu 2</li> <li>Menu 3  <ul>  <li>Menu 3>1    <ul>    <li>Menu 3>1>1</li>    <li>Menu 3>1>2</li>    </ul>  </li>	  <li>Menu 3>2</li>  </ul> </li></ul></div><p id="debug" style="position:absolute;top:220px"></p><script>var menu=[["Menu 1",["Menu 1>1","Menu 1>2"]],"Menu 2",["Menu 3",[["Menu 3>1",["Menu 3>1>1","Menu 3>1>2"]],"Menu 3>2"]]];function eninetarama(rootNode,handleFunction) {  var thisLevelNodes = new Array(rootNode);    level=0;  while(thisLevelNodes.length>0)   {	//handleFunction uygulanmasi    for(var i=0;i<thisLevelNodes.length;i++)     {      handleFunction(thisLevelNodes[i],level);	}	//ilerleme	level++;	    var nextLevelNodes = new Array();     for(var i=0;i<thisLevelNodes.length;i++)     {		  if(thisLevelNodes[i].hasChildNodes()) 	  {  	    for(var k=0;k<thisLevelNodes[i].childNodes.length;k++) 	    {	      	  nextLevelNodes.push(thisLevelNodes[i].childNodes[k]);	    }	  }    }		thisLevelNodes = nextLevelNodes;  }	}function derinetarama(currentNode,handleFunction,level) {  handleFunction(currentNode,level);    if(currentNode.hasChildNodes())  {    derinetarama(currentNode.firstChild,handleFunction,level+1);  }  if(currentNode.nextSibling!=null)  {    derinetarama(currentNode.nextSibling,handleFunction,level);  }}function placeNodes(node,level) {  if(node.tagName == 'UL')   {    var top = 0;	var left = 0;	if(node.parentNode.tagName == 'LI')	{	  left = node.parentNode.offsetLeft + node.parentNode.offsetWidth-3;	}	node.style.display='block';	node.style.position='absolute';	node.style.top = top + 'px';	node.style.left = left + 'px'; 	node.style.listStyleType = 'none';	  }  else if(node.tagName == 'LI')  {    var top=-1;	var left=0;	var width=50;		var findPreviousLiNode=node.previousSibling;	while(findPreviousLiNode.tagName!='LI' && findPreviousLiNode.previousSibling!=null)	{	  findPreviousLiNode=findPreviousLiNode.previousSibling;	}	    if(findPreviousLiNode.tagName=='LI')    {      top=findPreviousLiNode.offsetTop + findPreviousLiNode.offsetHeight;    }		if(level==1)	{	  width=55;	}	else if(level==3)	{	  width=70;	}	else 	{	  width=85;	}		node.style.display='block';	node.style.position='absolute';	node.style.top = top + 'px';	node.style.left = left + 'px';	    node.style.width = width + 'px';			node.style.border='solid black 1px';  }		}var queuedHideNode = null;var queuedHideDirection = 'none';function hidenode() {  if(queuedHideNode == null) return;  //asagi tarama  uller = queuedHideNode.getElementsByTagName('UL');  for(var i = 0;i<uller.length;i++)  {    uller[i].style.display='none';  }    if(queuedHideDirection == 'down') return;  //yukari tarama  currentNode=queuedHideNode;  while(currentNode.parentNode != null)   {    if(currentNode.tagName == 'UL' && currentNode.parentNode.tagName == 'LI')	{	  currentNode.style.display='none';	}  		currentNode=currentNode.parentNode;  }     queuedHideNode=null;  queuedHideDirection=null;}function hideshowlistener(event) {  var debug = document.getElementById("debug");    var target = event.target;  if(!(target.tagName == 'LI') || !target.hasChildNodes()) return;  debug.innerHTML+= event.type + ":\"" + event.currentTarget.textContent + "\"<br/>";  if(event.type == 'mouseover')   {    	//ONMOUSEOUT EMENANI SAKLAMA IPTALI	if(queuedHideNode != null) 	{	  //AYNI MENU ICINDE HAREKET	  if(queuedHideNode.parentNode.isSameNode(target.parentNode))      {		debug.innerHTML+= "&nbsp;move inside, cancel hide up:\"" + queuedHideNode.textContent + "\"<br/>";	    queuedHideDirection = 'down';	  }	  	  //UST MENUYE HAREKET      if(queuedHideNode.parentNode.parentNode.isSameNode(target)) 	  {		debug.innerHTML+= "&nbsp;move up, cancel hide down:\"" + queuedHideNode.textContent + "\"<br/>";		//queuedHideNode = null;		queuedHideDirection = 'down';			  }	  else if(queuedHideNode.parentNode.parentNode.parentNode.isSameNode(target.parentNode))      {		debug.innerHTML+= "&nbsp;move up, cancel hide up*:\"" + queuedHideNode.textContent + "\"<br/>";		queuedHideNode = target.parentNode;	    queuedHideDirection = 'down';	  }	  		  //ALT MENUYE HAREKET	  if(queuedHideNode.isSameNode(target.parentNode.parentNode))	  { 		debug.innerHTML+= "&nbsp;move down, cancel hide all:\"" + queuedHideNode.textContent + "\"<br/>";	  	    queuedHideNode = null;				queuedHideDirection = null;	  }	  	}        //ALT-MENU GOSTER    findULNode = target.firstChild;    while(findULNode.tagName != 'UL' && findULNode.nextSibling != null)    {  	  findULNode = findULNode.nextSibling;    }	      if(findULNode.tagName == 'UL')     {  	  findULNode.style.display = 'block';	    }  }	    if(event.type == 'mouseout')		  {     //ELEMANI SAKLAMA KUYRUGUNE EKLE	if(queuedHideNode != null)	{	  hidenode();	}	    queuedHideNode = target;	queuedHideDirection = 'all';	setTimeout(hidenode,100);    debug.innerHTML+= "&nbsp;queue hide:\"" + queuedHideNode.textContent + "\"<br/>";	  }    event.stopPropagation();}//DUGMELERdocument.getElementById("yerlestir").onclick=function() {var lis = document.getElementById('menu').getElementsByTagName('LI');for(var i=0;i<lis.length;i++) {  lis[i].style.position='absolute';}eninetarama(document.getElementById("menu"),placeNodes,0);document.getElementById("menu").style.positioning="fixed";document.getElementById("menu").style.left="12px";document.getElementById("menu").style.top="100px";};document.getElementById("sakla").onclick=function() {var uller=document.getElementById("menu").getElementsByTagName('UL');for(var i=0;i<uller.length;i++) {  uller[i].style.display='none';}};document.getElementById("dinleyici3").addEventListener("click",function() {var debug = document.getElementById("debug");var liler=document.getElementById("menu").getElementsByTagName('LI');for(var i=0;i<liler.length;i++){  liler[i].addEventListener("mouseover",hideshowlistener,false);  liler[i].addEventListener("mouseout",hideshowlistener,false);  }});</script></body></html> 